{"version":3,"file":"modal.module.min.js","sources":["../../packages/core/generated/scripts/config.js","../../packages/core/api.js","../../packages/modal/src/scripts/modal/constants.js","../../packages/modal/src/scripts/modal/focus-trap.js","../../packages/modal/src/scripts/modal/modals-group.js","../../packages/modal/src/scripts/modal/modal.js","../../packages/modal/index.js","../../packages/modal/src/scripts/module.js","../../packages/modal/src/scripts/modal/build.js"],"sourcesContent":["export const prefix = 'rf';\r\nexport const namespace = 'dsfr';\r\nexport const organisation = '@gouvfr';\r\n","import { namespace } from './generated/scripts/config.js';\n\nconst api = window[namespace] || { core: {} };\nwindow[namespace] = api;\nexport default api;\n","import api from '../../../api.js';\n\nexport const MODAL_SELECTOR = api.core.ns.selector('modal');\nexport const MODAL_CLASS = api.core.ns('modal');\nexport const NO_SCROLL_CLASS = api.core.ns('no-scroll');\nexport const SCROLL_SHADOW_CLASS = api.core.ns('scroll-shadow');\nexport const MODAL_BODY_SELECTOR = api.core.ns.selector('modal__body');\nexport const OFFSET_MOBILE = 32; // 32px => 8v => 2rem\n","import api from '../../../api.js';\n\nconst unordereds = [\n  '[tabindex=\"0\"]',\n  'a[href]',\n  'button:not([disabled])',\n  'input:not([disabled])',\n  'select:not([disabled])',\n  'textarea:not([disabled])',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\" i])',\n  'details>summary:first-of-type',\n  'details'\n];\n\nconst UNORDEREDS = unordereds.join();\n\nconst ordereds = [\n  '[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"])'\n];\n\nconst ORDEREDS = ordereds.join();\n\nconst isFocusable = (element, container) => {\n  if (window.getComputedStyle(element).visibility === 'hidden') return false;\n  if (container === undefined) container = element;\n\n  while (container.contains(element)) {\n    if (window.getComputedStyle(element).display === 'none') return false;\n    element = element.parentElement;\n  }\n\n  return true;\n};\n\nclass FocusTrap {\n  constructor (onTrap, onUntrap) {\n    this.element = null;\n    this.activeElement = null;\n    this.onTrap = onTrap;\n    this.onUntrap = onUntrap;\n    this.waiting = this.wait.bind(this);\n    this.handling = this.handle.bind(this);\n    this.current = null;\n  }\n\n  get trapped () { return this.element !== null; }\n\n  trap (element) {\n    if (this.trapped) this.untrap();\n\n    this.element = element;\n    this.isTrapping = true;\n    this.wait();\n\n    if (this.onTrap) this.onTrap();\n  }\n\n  wait () {\n    if (!isFocusable(this.element)) {\n      api.core.engine.renderer.next(this.waiting);\n      return;\n    }\n\n    this.trapping();\n  }\n\n  trapping () {\n    if (!this.isTrapping) return;\n    this.isTrapping = false;\n    const focusables = this.focusables;\n    if (focusables.length) focusables[0].focus();\n    this.element.setAttribute('aria-modal', true);\n    this.element.addEventListener('keydown', this.handling);\n\n    this.stunneds = [];\n    this.stun(document.body);\n  }\n\n  stun (node) {\n    for (const child of node.children) {\n      if (child === this.element) continue;\n      if (child.contains(this.element)) {\n        this.stun(child);\n        continue;\n      }\n      this.stunneds.push(new Stunned(child));\n    }\n  }\n\n  handle (e) {\n    if (e.keyCode !== 9) return;\n\n    const focusables = this.focusables;\n    if (focusables.length === 0) return;\n\n    const first = focusables[0];\n    const last = focusables[focusables.length - 1];\n\n    const index = focusables.indexOf(document.activeElement);\n\n    if (e.shiftKey) {\n      if (!this.element.contains(document.activeElement) || index < 1) {\n        e.preventDefault();\n        last.focus();\n      } else if (document.activeElement.tabIndex > 0 || focusables[index - 1].tabIndex > 0) {\n        e.preventDefault();\n        focusables[index - 1].focus();\n      }\n    } else {\n      if (!this.element.contains(document.activeElement) || index === focusables.length - 1 || index === -1) {\n        e.preventDefault();\n        first.focus();\n      } else if (document.activeElement.tabIndex > 0) {\n        e.preventDefault();\n        focusables[index + 1].focus();\n      }\n    }\n  }\n\n  get focusables () {\n    let unordereds = [...this.element.querySelectorAll(UNORDEREDS)];\n\n    /**\n     *  filtrage des radiobutttons de même name (la navigations d'un groupe de radio se fait à la flèche et non pas au tab\n     **/\n    const radios = [...document.documentElement.querySelectorAll('input[type=\"radio\"]')];\n\n    if (radios.length) {\n      const groups = {};\n\n      for (const radio of radios) {\n        const name = radio.getAttribute('name');\n        if (groups[name] === undefined) groups[name] = new RadioButtonGroup(name);\n        groups[name].push(radio);\n      }\n\n      unordereds = unordereds.filter((unordered) => {\n        if (unordered.tagName.toLowerCase() !== 'input' || unordered.getAttribute('type').toLowerCase() !== 'radio') return true;\n        const name = unordered.getAttribute('name');\n        return groups[name].keep(unordered);\n      });\n    }\n\n    const ordereds = [...this.element.querySelectorAll(ORDEREDS)];\n\n    ordereds.sort((a, b) => a.tabIndex - b.tabIndex);\n\n    const noDuplicates = unordereds.filter((element) => ordereds.indexOf(element) === -1);\n    const concateneds = ordereds.concat(noDuplicates);\n    return concateneds.filter((element) => element.tabIndex !== '-1' && isFocusable(element, this.element));\n  }\n\n  untrap () {\n    if (!this.trapped) return;\n    this.isTrapping = false;\n\n    this.element.removeAttribute('aria-modal');\n    this.element.removeEventListener('keydown', this.handling);\n    this.element = null;\n\n    for (const stunned of this.stunneds) stunned.unstun();\n    this.stunneds = [];\n\n    if (this.onUntrap) this.onUntrap();\n  }\n}\n\nclass Stunned {\n  constructor (element) {\n    this.element = element;\n    this.hidden = element.getAttribute('aria-hidden');\n    this.inert = element.getAttribute('inert');\n\n    this.element.setAttribute('aria-hidden', true);\n    this.element.setAttribute('inert', '');\n  }\n\n  unstun () {\n    if (this.hidden === null) this.element.removeAttribute('aria-hidden');\n    else this.element.setAttribute('aria-hidden', this.hidden);\n\n    if (this.inert === null) this.element.removeAttribute('inert');\n    else this.element.setAttribute('inert', this.inert);\n  }\n}\n\nclass RadioButtonGroup {\n  constructor (name) {\n    this.name = name;\n    this.buttons = [];\n  }\n\n  push (button) {\n    this.buttons.push(button);\n    if (button === document.activeElement || button.checked || this.selected === undefined) this.selected = button;\n  }\n\n  keep (button) {\n    return this.selected === button;\n  }\n}\n\nexport { FocusTrap };\n","import api from '../../../api.js';\nimport { FocusTrap } from './focus-trap.js';\n\nclass ModalsGroup extends api.core.DisclosuresGroup {\n  constructor () {\n    super();\n    this.trap = new FocusTrap();\n  }\n\n  apply (value, initial) {\n    super.apply(value, initial);\n    if (this.current === null) this.trap.untrap();\n    else this.trap.trap(this.current.element);\n  }\n}\n\nexport { ModalsGroup };\n","import api from '../../../api.js';\nimport {\n  OFFSET_MOBILE,\n  NO_SCROLL_CLASS,\n  MODAL_CLASS,\n  SCROLL_SHADOW_CLASS,\n  MODAL_BODY_SELECTOR\n} from './constants';\nimport { ModalsGroup } from './modals-group';\n\nconst group = new ModalsGroup();\n\nclass Modal extends api.core.Disclosure {\n  constructor (element) {\n    super(element);\n    this.body = this.element.querySelector(MODAL_BODY_SELECTOR);\n    this.scrollDistance = 0;\n    this.scrolling = this.resize.bind(this, false);\n    this.resizing = this.resize.bind(this, true);\n    this.init();\n    this.resize(true);\n  }\n\n  init () {\n    this.element.addEventListener('click', this.click.bind(this));\n\n    this.keyListener = new api.KeyListener(this.element);\n    this.keyListener.down(api.KeyListener.ESCAPE, this.conceal.bind(this), true, true);\n\n    if (this.body) {\n      this.body.addEventListener('scroll', this.scrolling);\n      window.addEventListener('resize', this.resizing);\n      // window.addEventListener('orientationchange', this.resizing);\n    }\n  }\n\n  click (e) {\n    if (this.body && this.element === e.target) this.conceal();\n  }\n\n  gather () {\n    group.add(this);\n  }\n\n  disclose (withhold) {\n    if (!super.disclose(withhold)) return false;\n    this.resize(true);\n    this.handleScroll(false);\n    return true;\n  }\n\n  conceal (withhold, preventFocus) {\n    if (!super.conceal(withhold, preventFocus)) return false;\n    this.handleScroll(true);\n    return true;\n  }\n\n  /**\n   * Fixe l'arrière plan quand la modal est ouverte\n   */\n  // TODO: créer une fonction de fix de scroll dans core (api.noScroll = true)\n  handleScroll (isScrollable) {\n    if (isScrollable) {\n      api.core.removeClass(document.documentElement, NO_SCROLL_CLASS);\n      document.body.style.top = '';\n      window.scroll(0, this.scrollDistance);\n    } else {\n      if (!document.documentElement.classList.contains(NO_SCROLL_CLASS)) {\n        this.scrollDistance = window.scrollY;\n      }\n      document.body.style.top = this.scrollDistance * -1 + 'px';\n      api.core.addClass(document.documentElement, NO_SCROLL_CLASS);\n    }\n  }\n\n  /**\n   * Ajoute une ombre autour du footer lorsque l'on peut scroller dans la modale\n   * corrige le 100vh, en mobile notamment, lorsque la barre navigateur est présente par exemple.\n   */\n  resize (isResizing, e) {\n    if (!this.body) return;\n    if (this.body.scrollHeight > this.body.clientHeight) {\n      if (this.body.offsetHeight + this.body.scrollTop >= this.body.scrollHeight) {\n        api.core.removeClass(this.body, SCROLL_SHADOW_CLASS);\n      } else {\n        api.core.addClass(this.body, SCROLL_SHADOW_CLASS);\n      }\n    } else {\n      api.core.removeClass(this.body, SCROLL_SHADOW_CLASS);\n    }\n\n    if (isResizing) {\n      this.body.style.maxHeight = (window.innerHeight - OFFSET_MOBILE) + 'px';\n\n      // Une deuxième fois après positionnement des barres du navigateur (ios)\n      // TODO: à tester si fonctionnel sans setTimeout\n      api.core.engine.renderer.next(() => {\n        this.body.style.maxHeight = (window.innerHeight - OFFSET_MOBILE) + 'px';\n      });\n    }\n  }\n\n  static get type () { return api.core.DISCLOSURE_TYPES.opened; }\n  static get selector () { return MODAL_CLASS; }\n\n  get GroupConstructor () { return ModalsGroup; }\n}\n\nexport { Modal };\n","import api from './api.js';\n\nimport { Modal } from './src/scripts/modal/modal';\nimport { ModalsGroup } from './src/scripts/modal/modals-group';\nimport { FocusTrap } from './src/scripts/modal/focus-trap';\n\napi.Modal = Modal;\napi.ModalsGroup = ModalsGroup;\napi.FocusTrap = FocusTrap;\n","/* eslint-disable no-new */\nimport api from '../../api.js';\nimport { build } from './modal/build.js';\nimport { MODAL_SELECTOR } from './modal/constants.js';\n\nnew api.core.Initializer(MODAL_SELECTOR, [build]);\n","import { Modal } from './modal';\n\n/**\n * initialise tout les éléments Modal dans la page\n */\nconst build = () => {\n  Modal.build(document);\n};\n\nexport { build };\n"],"names":["api","window","core","MODAL_SELECTOR","ns","selector","MODAL_CLASS","NO_SCROLL_CLASS","SCROLL_SHADOW_CLASS","MODAL_BODY_SELECTOR","UNORDEREDS","join","ORDEREDS","isFocusable","element","container","getComputedStyle","visibility","undefined","contains","display","parentElement","FocusTrap","[object Object]","onTrap","onUntrap","this","activeElement","waiting","wait","bind","handling","handle","current","trapped","untrap","isTrapping","trapping","engine","renderer","next","focusables","length","focus","setAttribute","addEventListener","stunneds","stun","document","body","node","child","children","push","Stunned","e","keyCode","first","last","index","indexOf","shiftKey","preventDefault","tabIndex","unordereds","querySelectorAll","radios","documentElement","groups","radio","name","getAttribute","RadioButtonGroup","filter","unordered","tagName","toLowerCase","keep","ordereds","sort","a","b","noDuplicates","concat","removeAttribute","removeEventListener","stunned","unstun","hidden","inert","buttons","button","checked","selected","ModalsGroup","DisclosuresGroup","super","trap","value","initial","apply","group","Modal","Disclosure","querySelector","scrollDistance","scrolling","resize","resizing","init","click","keyListener","KeyListener","down","ESCAPE","conceal","target","add","withhold","disclose","handleScroll","preventFocus","isScrollable","removeClass","style","top","scroll","classList","scrollY","addClass","isResizing","scrollHeight","clientHeight","offsetHeight","scrollTop","maxHeight","innerHeight","type","DISCLOSURE_TYPES","opened","GroupConstructor","Initializer","build"],"mappings":"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"}