<div class="search-div-type">
  <p class="text-search">je veux</p>
  <div class="dropdown">
    <% if @selected_type.present? %>
      <div id="select-search-type" class="choosen"><%= Help::HELP_TYPE[@selected_type.to_sym] %><%= image_tag "arrow-search.svg", class: "arrow-search", width: "25px" %></div>
    <% else %>
      <div id="select-search-type"><span id="text-to-change-type"><%= Help::HELP_TYPE.values.sample %></span><%= image_tag "arrow-search.svg", class: "arrow-search", width: "25px" %></div>
    <% end %>
    <div id="dropdown-elements-type">
      <% Help::HELP_TYPE.values.each do |type| %>
        <div class="dropdown-content-type"><%= type %></div>
      <% end %>
    </div>
  </div>
</div>
<div class="search-div-residence">
  <p class="text-search">je rÃ©side en</p>
  <div class="dropdown">
    <% if @selected.present? %>
      <div id="select-search-residence" class="choosen"><%= @selected %><%= image_tag "arrow-search.svg", class: "arrow-search", width: "25px" %></div>
    <% else %>
      <div id="select-search-residence"><span id="text-to-change-residence"><%= Help::HELP_RESIDENCE.sample %></span><%= image_tag "arrow-search.svg", class: "arrow-search", width: "25px" %></div>
    <% end %>
    <div id="dropdown-elements-residence">
      <% Help::HELP_RESIDENCE.each do |residence| %>
        <% if residence == "FranÃ§aise ou rÃ©sidant en France" %>
          <div class="dropdown-content-residence">France</div>
        <% elsif residence == "FranÃ§aise rÃ©sidant en outre-mer" %>
          <div class="dropdown-content-residence">outre-mer</div>
        <% else %>
          <div class="dropdown-content-residence"><%= residence %></div>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
<div class="button-search-helps">
  ğŸ¯ Filtrer les aides
</div>
<%= form_tag helps_path, method: :get, id: "search-form" do %>
  <% if @selected.present? %>
    <%= text_field_tag :residence, params[:residence], value: @selected %>
  <% else %>
    <%= text_field_tag :residence, params[:residence] %>
  <% end %>
  <% if @selected_type.present? %>
    <%= text_field_tag :type_list, params[:type_list], value: @selected_type %>
  <% else %>
    <%= text_field_tag :type_list, params[:type_list] %>
  <% end %>
  <%= submit_tag "Search" %>
<% end %>
<div class="progress-container">
  <div class="progress-help"></div>
</div>
<div class="main-index">
  <% if @selected.present? || @selected_type.present? %>
    <div class="index-direction-helps tag-present">
      <p class="main-bold-paragraphe result-search text-align-left"><%= @helps.count %> aides correspondent Ã  vos critÃ¨res ğŸŠ</p>
      <a class="link-blue result-search" href="/helps"> <%= image_tag "arrow-left-darkblue.svg" %> Toutes les aides </a>
      <div class="result-search-mobile">
        <p class="main-bold-paragraphe result-search-mobile text-align-left">ğŸŠ <%= @helps.count %> rÃ©sultats pour :</p>
        <% if @selected.present? %>
          <p class="button-criteria-selected-help residence" data-category="<%= @selected %>"><%= @selected %> <%= image_tag "cross-criteria.svg" %></p>
        <% end %>
        <% if @selected_type.present? %>
          <p class="button-criteria-selected-help" data-category="<%= @selected_type %>"><%= Help::HELP_TYPE[@selected_type.to_sym] %> <%= image_tag "cross-criteria.svg" %></p>
        <% end %>
      </div>
    </div>
  <% else %>
      <div class="index-direction-helps">
        <p class="info-result main-bold-paragraphe text-align-left"><%= @helps.count %> aides recensÃ©es</p>
        <p class="paragraphe info-result">Nous ajoutons rÃ©guliÃ¨rement des aides. DerniÃ¨re mise Ã  jour le <%= Help.all.order(:created_at).last.created_at.strftime("%d/%m/%Y") %></p>
      </div>
  <% end %>
  <div class="arrow-down-mobile">
    <a href="#cards-anchor"><%= image_tag "arrow-down-purple.svg" %></a>
  </div>
  <div class="cards" id="cards-anchor">
    <div class="index-direction-tablet-help">
      <% if @selected.present? || @selected_type.present? %>
        <div class="result-search-mobile-div">
          <p class="main-bold-paragraphe result-search-mobile text-align-left">ğŸŠ <%= @helps.count %> rÃ©sultats pour :</p>
          <% if @selected.present? %>
            <p class="button-criteria-selected-help residence" data-category="<%= @selected %>"><%= @selected %> <%= image_tag "cross-criteria.svg" %></p>
          <% end %>
          <% if @selected_type.present? %>
            <p class="button-criteria-selected-help" data-category="<%= @selected_type %>"><%= Help::HELP_TYPE[@selected_type.to_sym] %> <%= image_tag "cross-criteria.svg" %></p>
          <% end %>
        </div>
      <% else %>
        <p class="info-result main-bold-paragraphe text-align-left"><%= @helps.count %> aides recensÃ©es</p>
        <p class="paragraphe info-result">Nous ajoutons rÃ©guliÃ¨rement des aides. DerniÃ¨re mise Ã  jour le <%= Help.all.order(:created_at).last.created_at.strftime("%d/%m/%Y") %></p>
      <% end %>
    </div>
    <%= render "shared/helps_cards", helps: @helps %>
  </div>
</div>
